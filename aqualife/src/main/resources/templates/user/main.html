<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>main</title>
  <script type="text/javascript" src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
  <link rel="stylesheet" type="text/css" th:href="@{user/main.css}">
</head>

<script>
  // co2Click.addEventListener('click', iframeCo2);
  // phClick.addEventListener('click', buttonClickHandler3);
  // tempClick.addEventListener('click', iframeTemp);
  // filterClick.addEventListener('click', iframeFilter);

  function realTimeDataCheck() {
    setInterval(function () {
      $(document).ready(function () {
        $.ajax({
          type: 'get',   //get방식으로 명시
          url: '/realTimeDataCheck',  //이동할 jsp 파일 주소
          dataType: 'text',   //문자형식으로 받기
          success: function (data) {   //데이터 주고받기 성공했을 경우 실행할 결과
            //function(data)를 쓰게 되면 전달받은 데이터가 data안에 담아서 들어오게 된다.
            console.log("check");
          },
          error: function () {   //데이터 주고받기가 실패했을 경우 실행할 결과
            console.log("error check");
          }
        });
      })
    }, 2000);
  }

  window.onload = function(){
    realTimeDataCheck()
  }
</script>

<body>
  <header>
    <ul class="navbar_menu">
      <li>
        <img th:src="@{image/menu아이콘.png}" alt="메뉴아이콘">
        <!-- <a href="https://www.flaticon.com/kr/free-icons/-" title="메뉴 열기 아이콘">메뉴 열기 아이콘  제작자: Pixel perfect - Flaticon</a> -->
      </li>
      <li class="xlFont fishbowl">
        어항
      </li>
      <li>
        <img th:src="@{image/person아이콘.png}" alt="사람아이콘">
        <!-- <a href="https://www.flaticon.com/kr/free-icons/" title="사람 아이콘">사람 아이콘  제작자: spaceman.design - Flaticon</a> -->
      </li>
    </ul>
  </header>
  <main>
    <div class="fishbowlFrame">
      <!--<p th:text="${fishbowlData.getCo2().get(0).isState()}"></p>-->
      <a id="co2Click" th:href="@{/co2Main}">
        <img class="clickIcon" th:src="@{image/co2아이콘.png}" alt="co2">
        co2
        <!-- <a href="https://www.flaticon.com/kr/free-icons/co2-" title="co2 구름 아이콘">Co2 구름 아이콘  제작자: Freepik - Flaticon</a> -->
      </a>
      <a id="lightClick" th:href="@{/lightMain}">
        <img class="clickIcon" th:src="@{image/light아이콘.png}" alt="light">
        light
        <!-- <a href="https://www.flaticon.com/kr/free-icons/" title="팁 아이콘">팁 아이콘  제작자: Freepik - Flaticon</a> -->
      </a>
      <a id="phClick" th:href="@{/phMain}">
        <img class="clickIcon" th:src="@{image/ph아이콘.png}" alt="ph">
        ph
        <!-- <a href="https://www.flaticon.com/kr/free-icons/ph" title="ph 아이콘">Ph 아이콘  제작자: Freepik - Flaticon</a> -->
      </a>
      <a id="tempClick" th:href="@{/temperatureMain}">
        <img class="clickIcon" th:src="@{image/temp아이콘.png}" alt="temp">
        온도
        <!-- <a href="https://www.flaticon.com/kr/free-icons/" title="발열 아이콘">발열 아이콘  제작자: Freepik - Flaticon</a> -->
      </a>
      <a id="filterClick" th:href="@{/filterMain}">
        <img class="clickIcon" th:src="@{image/filter아이콘.png}" alt="환수">
        환수
        <!-- <a href="https://www.flaticon.com/kr/free-icons/-" title="최신 정보 아이콘">최신 정보 아이콘 제작자: sonnycandra -Flaticon</a> -->
      </a>
    </div>
    <span>co2</span><span th:text="${fishbowlData.state.get(0)}"></span>
    <span>light</span><span th:text="${fishbowlData.state.get(1)}"></span>
    <span>filter</span><span th:text="${fishbowlData.state.get(2)}"></span>
    <span>temp</span><span th:text="${fishbowlData.state.get(3)}"></span>
    <span>ph</span><span th:text="${fishbowlData.state.get(4)}"></span>
  </main>
  <footer>
    <ul class="main_menu">
      <li>
        <img class="clickIcon" th:src="@{image/light아이콘.png}" alt="light">
      </li>
      <li>
        <img class="clickIcon" th:src="@{image/ph아이콘.png}" alt="ph">
      </li>
      <li>
        main
      </li>
      <li>
        <img class="clickIcon" th:src="@{image/co2아이콘.png}" alt="co2">
      </li>
      <li>
        <img class="clickIcon" th:src="@{image/filter아이콘.png}" alt="환수">
      </li>
    </ul>
  </footer>
</body>

</html>